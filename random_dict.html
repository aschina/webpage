<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>QT 工具</title>
  </head>
  <body>
    <div id="random"></div>
  </body>
  <script>
    //var
    const msg = new SpeechSynthesisUtterance();
    msg.lang = "zh-CN"; // 使用的语言:中文
    msg.volume = 0.8; // 声音音量：0-1
    msg.rate = 3; // 语速：0-10
    msg.pitch = 0.8; // 音高：0-1
    var randomDiv = document.getElementById("random");
    //var end

    //function
    function getRndInteger(min, max) {
      return Math.floor(Math.random() * (max - min)) + min;
    }

    fetch("ci.json")
      .then((response) => response.json())
      .then((data) => {
        function genCi() {
          let s = "";
          for (let i = 0; i < 3; i++) {
            let rand = getRndInteger(0, data.length);

            s += data[rand]+ " ";
          }
          randomDiv.innerText = s;
          msg.text = s;
          window.speechSynthesis.speak(msg);
        }
        randomDiv.onclick = genCi;
        genCi();
      })
      .catch((error) => console.error("Error:", error));
  </script>
</html>
